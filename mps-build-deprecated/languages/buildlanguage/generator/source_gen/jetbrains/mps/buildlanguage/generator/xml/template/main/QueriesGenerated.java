package jetbrains.mps.buildlanguage.generator.xml.template.main;

/*Generated by MPS */

import jetbrains.mps.generator.runtime.Generated;
import jetbrains.mps.generator.template.BaseMappingRuleContext;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import java.util.UUID;
import jetbrains.mps.generator.template.PropertyMacroContext;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SPropertyOperations;
import jetbrains.mps.smodel.behaviour.BehaviorReflection;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import jetbrains.mps.buildlanguage.behavior.Project_Behavior;
import jetbrains.mps.build.property.behavior.PropertyNode_Behavior;
import jetbrains.mps.generator.template.IfMacroContext;
import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.generator.template.SourceSubstituteMacroNodeContext;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SConceptOperations;
import jetbrains.mps.buildlanguage.behavior.TargetDeclaration_Behavior;
import jetbrains.mps.generator.template.SourceSubstituteMacroNodesContext;
import java.util.List;
import org.jetbrains.mps.openapi.language.SConcept;
import jetbrains.mps.internal.collections.runtime.IWhereFilter;
import jetbrains.mps.internal.collections.runtime.Sequence;
import jetbrains.mps.internal.collections.runtime.ISelector;
import java.util.Set;
import jetbrains.mps.internal.collections.runtime.SetSequence;
import java.util.HashSet;
import java.util.Comparator;
import jetbrains.mps.generator.template.TemplateQueryContext;

@Generated
public class QueriesGenerated {
  public final boolean NEEDS_OPCONTEXT = false;
  public static boolean baseMappingRule_Condition_1224769157301(final BaseMappingRuleContext _context) {
    return (SNodeOperations.getNodeAncestor(_context.getNode(), MetaAdapterFactory.getConcept(new UUID(819810455698030989l, -8713019626243247156l), 1196851066733l, "jetbrains.mps.buildlanguage.structure.Project"), false, true) != null);
  }
  public static boolean baseMappingRule_Condition_1224769231960(final BaseMappingRuleContext _context) {
    return (SNodeOperations.getNodeAncestor(_context.getNode(), MetaAdapterFactory.getConcept(new UUID(819810455698030989l, -8713019626243247156l), 1196851066733l, "jetbrains.mps.buildlanguage.structure.Project"), false, true) != null);
  }
  public static Object propertyMacro_GetPropertyValue_1197041984406(final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), MetaAdapterFactory.getProperty(new UUID(-3554657779850784990l, -7236703803128771572l), 1169194658468l, 1169194664001l, "name"));
  }
  public static Object propertyMacro_GetPropertyValue_1229186338304(final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), MetaAdapterFactory.getProperty(new UUID(819810455698030989l, -8713019626243247156l), 1196851099544l, 1229183830991l, "if"));
  }
  public static Object propertyMacro_GetPropertyValue_1229186668950(final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), MetaAdapterFactory.getProperty(new UUID(819810455698030989l, -8713019626243247156l), 1196851099544l, 1229186373089l, "unless"));
  }
  public static Object propertyMacro_GetPropertyValue_1197041696784(final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), MetaAdapterFactory.getProperty(new UUID(-3554657779850784990l, -7236703803128771572l), 1169194658468l, 1169194664001l, "name"));
  }
  public static Object propertyMacro_GetPropertyValue_1197047737338(final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SLinkOperations.getTarget(_context.getNode(), MetaAdapterFactory.getContainmentLink(new UUID(819810455698030989l, -8713019626243247156l), 1196851107341l, 1196851904859l, "propertyValue")), "virtual_toString_1213877472569", new Object[]{});
  }
  public static Object propertyMacro_GetPropertyValue_1197043097344(final PropertyMacroContext _context) {
    return ((String) _context.getVariable("var:projectName"));
  }
  public static Object propertyMacro_GetPropertyValue_1197043134402(final PropertyMacroContext _context) {
    return SPropertyOperations.getString(SLinkOperations.getTarget(SLinkOperations.getTarget(_context.getNode(), MetaAdapterFactory.getContainmentLink(new UUID(819810455698030989l, -8713019626243247156l), 1196851066733l, 1196859969927l, "default")), MetaAdapterFactory.getReferenceLink(new UUID(819810455698030989l, -8713019626243247156l), 1196852921336l, 1196852953065l, "targetDeclaration")), MetaAdapterFactory.getProperty(new UUID(-3554657779850784990l, -7236703803128771572l), 1169194658468l, 1169194664001l, "name"));
  }
  public static Object propertyMacro_GetPropertyValue_1200145395655(final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SLinkOperations.getTarget(_context.getNode(), MetaAdapterFactory.getContainmentLink(new UUID(819810455698030989l, -8713019626243247156l), 1196851066733l, 1199036079290l, "basedir")), "virtual_toString_1213877472569", new Object[]{});
  }
  public static Object propertyMacro_GetPropertyValue_1230222683911(final PropertyMacroContext _context) {
    return "${ant.file." + ((String) _context.getVariable("var:projectName")) + "}/../" + BehaviorReflection.invokeVirtual(String.class, _context.getNode(), "virtual_getProjectFileName_1230222765831", new Object[]{});
  }
  public static Object propertyMacro_GetPropertyValue_1199647316381(final PropertyMacroContext _context) {
    return Project_Behavior.call_getDocumentName_1213877351812(_context.getNode());
  }
  public static Object propertyMacro_GetPropertyValue_1197725505264(final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, _context.getNode(), "virtual_toString_1213877472569", new Object[]{});
  }
  public static Object propertyMacro_GetPropertyValue_1201017147787(final PropertyMacroContext _context) {
    return "${ant.file." + SPropertyOperations.getString(SNodeOperations.cast(SNodeOperations.getContainingRoot(_context.getNode()), MetaAdapterFactory.getConcept(new UUID(-3554657779850784990l, -7236703803128771572l), 1169194658468l, "jetbrains.mps.lang.core.structure.INamedConcept")), MetaAdapterFactory.getProperty(new UUID(-3554657779850784990l, -7236703803128771572l), 1169194658468l, 1169194664001l, "name")) + "}/../" + PropertyNode_Behavior.call_getFileName_1213877341757(SLinkOperations.getTarget(_context.getNode(), MetaAdapterFactory.getReferenceLink(new UUID(819810455698030989l, -8713019626243247156l), 1200418817047l, 1200420354547l, "propertyNode")));
  }
  public static Object propertyMacro_GetPropertyValue_1201709830416(final PropertyMacroContext _context) {
    if (SNodeOperations.isInstanceOf(SNodeOperations.getParent(_context.getNode()), MetaAdapterFactory.getConcept(new UUID(819810455698030989l, -8713019626243247156l), 1196851066733l, "jetbrains.mps.buildlanguage.structure.Project"))) {
      return "${ant.file." + SPropertyOperations.getString(SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), MetaAdapterFactory.getConcept(new UUID(819810455698030989l, -8713019626243247156l), 1196851066733l, "jetbrains.mps.buildlanguage.structure.Project")), MetaAdapterFactory.getProperty(new UUID(-3554657779850784990l, -7236703803128771572l), 1169194658468l, 1169194664001l, "name")) + "}/../" + Project_Behavior.call_getFileName_1213877351819(SLinkOperations.getTarget(_context.getNode(), MetaAdapterFactory.getReferenceLink(new UUID(819810455698030989l, -8713019626243247156l), 1201702638416l, 1201702650857l, "project")));
    }
    return "${ant.file." + SPropertyOperations.getString(SNodeOperations.cast(SNodeOperations.getContainingRoot(_context.getNode()), MetaAdapterFactory.getConcept(new UUID(-3554657779850784990l, -7236703803128771572l), 1169194658468l, "jetbrains.mps.lang.core.structure.INamedConcept")), MetaAdapterFactory.getProperty(new UUID(-3554657779850784990l, -7236703803128771572l), 1169194658468l, 1169194664001l, "name")) + "}/../" + Project_Behavior.call_getFileName_1213877351819(SLinkOperations.getTarget(_context.getNode(), MetaAdapterFactory.getReferenceLink(new UUID(819810455698030989l, -8713019626243247156l), 1201702638416l, 1201702650857l, "project")));
  }
  public static Object propertyMacro_GetPropertyValue_1219150196232(final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), MetaAdapterFactory.getProperty(new UUID(-3554657779850784990l, -7236703803128771572l), 1169194658468l, 1169194664001l, "name"));
  }
  public static Object propertyMacro_GetPropertyValue_1219153881551(final PropertyMacroContext _context) {
    return "Property " + SPropertyOperations.getString(_context.getNode(), MetaAdapterFactory.getProperty(new UUID(-3554657779850784990l, -7236703803128771572l), 1169194658468l, 1169194664001l, "name")) + " unspecified.";
  }
  public static Object propertyMacro_GetPropertyValue_1240399737243(final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SLinkOperations.getTarget(_context.getNode(), MetaAdapterFactory.getContainmentLink(new UUID(819810455698030989l, -8713019626243247156l), 1240398708423l, 1240398738487l, "propertyFile")), "virtual_toString_1213877472569", new Object[]{});
  }
  public static boolean ifMacro_Condition_1229186350652(final IfMacroContext _context) {
    return isNotEmptyString(SPropertyOperations.getString(_context.getNode(), MetaAdapterFactory.getProperty(new UUID(819810455698030989l, -8713019626243247156l), 1196851099544l, 1229183830991l, "if")));
  }
  public static boolean ifMacro_Condition_1229186682042(final IfMacroContext _context) {
    return isNotEmptyString(SPropertyOperations.getString(_context.getNode(), MetaAdapterFactory.getProperty(new UUID(819810455698030989l, -8713019626243247156l), 1196851099544l, 1229186373089l, "unless")));
  }
  public static boolean ifMacro_Condition_1240316820310(final IfMacroContext _context) {
    return (SLinkOperations.getTarget(_context.getNode(), MetaAdapterFactory.getContainmentLink(new UUID(819810455698030989l, -8713019626243247156l), 1196851066733l, 1196859969927l, "default")) != null);
  }
  public static boolean ifMacro_Condition_1200145404081(final IfMacroContext _context) {
    return (SLinkOperations.getTarget(_context.getNode(), MetaAdapterFactory.getContainmentLink(new UUID(819810455698030989l, -8713019626243247156l), 1196851066733l, 1199036079290l, "basedir")) != null);
  }
  public static boolean ifMacro_Condition_1219774096052(final IfMacroContext _context) {
    return SPropertyOperations.getBoolean(SNodeOperations.cast(_context.getNode(), MetaAdapterFactory.getConcept(new UUID(819810455698030989l, -8713019626243247156l), 1219147669362l, "jetbrains.mps.buildlanguage.structure.ExternalPropertyDeclaration")), MetaAdapterFactory.getProperty(new UUID(819810455698030989l, -8713019626243247156l), 1219147669362l, 1219774190534l, "checkOnStart"));
  }
  public static SNode sourceNodeQuery_1197045463934(final SourceSubstituteMacroNodeContext _context) {
    if (ListSequence.fromList(SLinkOperations.getChildren(_context.getNode(), MetaAdapterFactory.getContainmentLink(new UUID(819810455698030989l, -8713019626243247156l), 1196851099544l, 1196853776690l, "depends"))).count() == 0) {
      return null;
    }
    SNode attribute = SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(new UUID(-9061952983114822898l, -7881051372423955543l), 1107866742882l, "jetbrains.mps.xml.deprecated.structure.Attribute"));
    SPropertyOperations.set(attribute, MetaAdapterFactory.getProperty(new UUID(-3554657779850784990l, -7236703803128771572l), 1169194658468l, 1169194664001l, "name"), "depends");
    SPropertyOperations.set(attribute, MetaAdapterFactory.getProperty(new UUID(-9061952983114822898l, -7881051372423955543l), 1107866742882l, 1107866755246l, "value"), TargetDeclaration_Behavior.call_getDependanceString_1213877231974(_context.getNode()));
    return attribute;
  }
  public static SNode sourceNodeQuery_1219774104894(final SourceSubstituteMacroNodeContext _context) {
    return _context.getNode();
  }
  public static SNode sourceNodeQuery_3749843785778050921(final SourceSubstituteMacroNodeContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), MetaAdapterFactory.getContainmentLink(new UUID(819810455698030989l, -8713019626243247156l), 3749843785777956745l, 3749843785777956746l, "xml"));
  }
  public static Iterable<SNode> sourceNodesQuery_1197045140155(final SourceSubstituteMacroNodesContext _context) {
    return SLinkOperations.getChildren(_context.getNode(), MetaAdapterFactory.getContainmentLink(new UUID(819810455698030989l, -8713019626243247156l), 1196851099544l, 1200425580778l, "propertyList"));
  }
  public static Iterable<SNode> sourceNodesQuery_1219152731276(final SourceSubstituteMacroNodesContext _context) {
    List<SNode> references = SNodeOperations.getNodeDescendants(_context.getNode(), MetaAdapterFactory.getConcept(new UUID(819810455698030989l, -8713019626243247156l), 1196853662806l, "jetbrains.mps.buildlanguage.structure.PropertyReference"), false, new SConcept[]{});
    Iterable<SNode> externalReferences = ListSequence.fromList(references).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        SNode propertyDeclaration = SLinkOperations.getTarget(it, MetaAdapterFactory.getReferenceLink(new UUID(819810455698030989l, -8713019626243247156l), 1196853662806l, 1196853671400l, "propertyDeclaration"));
        return SNodeOperations.isInstanceOf(propertyDeclaration, MetaAdapterFactory.getConcept(new UUID(819810455698030989l, -8713019626243247156l), 1219147669362l, "jetbrains.mps.buildlanguage.structure.ExternalPropertyDeclaration")) && !(ListSequence.fromList(SLinkOperations.getChildren(_context.getNode(), MetaAdapterFactory.getContainmentLink(new UUID(819810455698030989l, -8713019626243247156l), 1196851099544l, 1200425580778l, "propertyList"))).contains(propertyDeclaration)) && !(SPropertyOperations.getBoolean(SNodeOperations.cast(propertyDeclaration, MetaAdapterFactory.getConcept(new UUID(819810455698030989l, -8713019626243247156l), 1219147669362l, "jetbrains.mps.buildlanguage.structure.ExternalPropertyDeclaration")), MetaAdapterFactory.getProperty(new UUID(819810455698030989l, -8713019626243247156l), 1219147669362l, 1219774190534l, "checkOnStart")));
      }
    });
    Iterable<SNode> decls = Sequence.fromIterable(externalReferences).select(new ISelector<SNode, SNode>() {
      public SNode select(SNode it) {
        return SLinkOperations.getTarget(it, MetaAdapterFactory.getReferenceLink(new UUID(819810455698030989l, -8713019626243247156l), 1196853662806l, 1196853671400l, "propertyDeclaration"));
      }
    });
    return Sequence.fromIterable(decls).distinct();
  }
  public static Iterable<SNode> sourceNodesQuery_1197045203873(final SourceSubstituteMacroNodesContext _context) {
    return SLinkOperations.getChildren(_context.getNode(), MetaAdapterFactory.getContainmentLink(new UUID(819810455698030989l, -8713019626243247156l), 1196851099544l, 1196851542249l, "taskCall"));
  }
  public static Iterable<SNode> sourceNodesQuery_1220365505588(final SourceSubstituteMacroNodesContext _context) {
    return SLinkOperations.getChildren(_context.getNode(), MetaAdapterFactory.getContainmentLink(new UUID(819810455698030989l, -8713019626243247156l), 1196851066733l, 1200425203554l, "importProperties"));
  }
  public static Iterable<SNode> sourceNodesQuery_1219774083522(final SourceSubstituteMacroNodesContext _context) {
    return ListSequence.fromList(SLinkOperations.getChildren(_context.getNode(), MetaAdapterFactory.getContainmentLink(new UUID(819810455698030989l, -8713019626243247156l), 1196851066733l, 1200425668297l, "property"))).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return SNodeOperations.isInstanceOf(it, MetaAdapterFactory.getConcept(new UUID(819810455698030989l, -8713019626243247156l), 1219147669362l, "jetbrains.mps.buildlanguage.structure.ExternalPropertyDeclaration"));
      }
    });
  }
  public static Iterable<SNode> sourceNodesQuery_1221832362895(final SourceSubstituteMacroNodesContext _context) {
    return SLinkOperations.getChildren(_context.getNode(), MetaAdapterFactory.getContainmentLink(new UUID(819810455698030989l, -8713019626243247156l), 1196851066733l, 1201702862229l, "importProject"));
  }
  public static Iterable<SNode> sourceNodesQuery_1230222691427(final SourceSubstituteMacroNodesContext _context) {
    final Set<String> existing = SetSequence.fromSet(new HashSet<String>());
    for (SNode importProject : ListSequence.fromList(SNodeOperations.getNodeDescendants(_context.getNode(), MetaAdapterFactory.getConcept(new UUID(819810455698030989l, -8713019626243247156l), 1201702638416l, "jetbrains.mps.buildlanguage.structure.ImportProject"), false, new SConcept[]{}))) {
      SetSequence.fromSet(existing).addElement(SPropertyOperations.getString(SLinkOperations.getTarget(importProject, MetaAdapterFactory.getReferenceLink(new UUID(819810455698030989l, -8713019626243247156l), 1201702638416l, 1201702650857l, "project")), MetaAdapterFactory.getProperty(new UUID(-3554657779850784990l, -7236703803128771572l), 1169194658468l, 1169194664001l, "name")));
    }
    Iterable<SNode> projects = ListSequence.fromList(SNodeOperations.getNodeDescendants(_context.getNode(), MetaAdapterFactory.getConcept(new UUID(819810455698030989l, -8713019626243247156l), 1230220832119l, "jetbrains.mps.buildlanguage.structure.ITargetReference"), false, new SConcept[]{})).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        boolean b = !(SetSequence.fromSet(existing).contains(BehaviorReflection.invokeVirtual(String.class, it, "virtual_getProjectFileName_1230222765831", new Object[]{})));
        SetSequence.fromSet(existing).addElement(BehaviorReflection.invokeVirtual(String.class, it, "virtual_getProjectFileName_1230222765831", new Object[]{}));
        return b;
      }
    });
    return Sequence.fromIterable(projects).sort(new Comparator<SNode>() {
      public int compare(SNode a, SNode b) {
        return BehaviorReflection.invokeVirtual(String.class, a, "virtual_getProjectFileName_1230222765831", new Object[]{}).compareToIgnoreCase(BehaviorReflection.invokeVirtual(String.class, b, "virtual_getProjectFileName_1230222765831", new Object[]{}));
      }
    }, true);
  }
  public static Iterable<SNode> sourceNodesQuery_1197043380401(final SourceSubstituteMacroNodesContext _context) {
    return ListSequence.fromList(SLinkOperations.getChildren(_context.getNode(), MetaAdapterFactory.getContainmentLink(new UUID(819810455698030989l, -8713019626243247156l), 1196851066733l, 1200425668297l, "property"))).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return !(SNodeOperations.isInstanceOf(it, MetaAdapterFactory.getConcept(new UUID(819810455698030989l, -8713019626243247156l), 1219147669362l, "jetbrains.mps.buildlanguage.structure.ExternalPropertyDeclaration")));
      }
    });
  }
  public static Iterable<SNode> sourceNodesQuery_1199029853220(final SourceSubstituteMacroNodesContext _context) {
    return SLinkOperations.getChildren(_context.getNode(), MetaAdapterFactory.getContainmentLink(new UUID(819810455698030989l, -8713019626243247156l), 1196851066733l, 1198941222782l, "paths"));
  }
  public static Iterable<SNode> sourceNodesQuery_1197043378055(final SourceSubstituteMacroNodesContext _context) {
    return SLinkOperations.getChildren(_context.getNode(), MetaAdapterFactory.getContainmentLink(new UUID(819810455698030989l, -8713019626243247156l), 1196851066733l, 1196851079482l, "target"));
  }
  public static Object insertMacro_varValue_5198087850870257905(final TemplateQueryContext _context) {
    return SPropertyOperations.getString(_context.getNode(), MetaAdapterFactory.getProperty(new UUID(-3554657779850784990l, -7236703803128771572l), 1169194658468l, 1169194664001l, "name"));
  }
  private static boolean isNotEmptyString(String str) {
    return str != null && str.length() > 0;
  }
}
